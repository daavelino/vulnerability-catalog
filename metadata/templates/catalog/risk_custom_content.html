<script>
function riskCalculator() {

  var riskLevel; // This should be ["High", "Medium", "Low"]
  var riskArray = []; // Get all the provided risk metrics.
  var riskVector = []; // Get a better idea of what Risk values means.

  // Get all risk measures:
  var infoVolumeRiskValue = document
                           .getElementsByName("infoVolumeRisk")[0]
                           .valueAsNumber;
  document.getElementsByName("infoVolumeRiskValue")[0]
          .innerHTML = (infoVolumeRiskValue * 10) + "%";
  riskArray.push(infoVolumeRiskValue);
  riskVector.push("BI:" + infoVolumeRiskValue);
 
  var outageRiskValue = document
                       .getElementsByName("outageRisk")[0]
                       .valueAsNumber;
  document.getElementsByName("outageRiskValue")[0]
          .innerHTML = (outageRiskValue * 10) + "%";
  riskArray.push(outageRiskValue);
  riskVector.push("OT:" + outageRiskValue);
  
  var strategicInfoRiskValue = document
                              .getElementsByName("strategicInfoRisk")[0]
                              .valueAsNumber;
  document.getElementsByName("strategicInfoRiskValue")[0]
          .innerHTML = (strategicInfoRiskValue * 10) + "%";
  riskArray.push(strategicInfoRiskValue);
  riskVector.push("SI:" + strategicInfoRiskValue);
  
  var financialRiskValue = document
                          .getElementsByName("financialRisk")[0]
                          .valueAsNumber;
  document.getElementsByName("financialRiskValue")[0]
          .innerHTML = (financialRiskValue * 10) + "%";
  riskArray.push(financialRiskValue);
  riskVector.push("BF:" + financialRiskValue);
  
  var functionsInterruptionRiskValue = document
                                 .getElementsByName("functionsInterruptionRisk")[0]
                                 .valueAsNumber;
  document.getElementsByName("functionsInterruptionRiskValue")[0]
          .innerHTML = (functionsInterruptionRiskValue * 10) + "%";
  riskArray.push(functionsInterruptionRiskValue);
  riskVector.push("FI:" + functionsInterruptionRiskValue);
 
  // Presenting the risk vector: 
  document.getElementsByName("riskVectorValue")[0]
          .innerHTML = ("Risk vector string - RV:" + riskVector.toString());
  console.log(riskVector.toString());

  //// Evaluating the risk level:

  // Adding all values:
  var totalRiskValue = riskArray.reduce((a, b) => a + b, 0);
  
  // If an unique measure is greater than 7, risk level is High:
  if ( riskArray.some(
                function(element, index, array) { 
                return element > 7;})
     ) {
      riskLevel = "High";
  
  // If an unique measure is great than 4, risk level is Medium:
  } else if ( riskArray.some(
                function(element, index, array) { 
                return element > 4;})
            ) {
      riskLevel = "Medium";
  
  } else { // risk level depends on the evaluation of all fields:
    if (0 <= totalRiskValue && totalRiskValue <= 10)
      riskLevel = "Low";
    if (10 < totalRiskValue && totalRiskValue <= 30)
      riskLevel = "Medium";
    if (30 < totalRiskValue && totalRiskValue <= 50)
      riskLevel = "High";
  }

  // Presenting the Risk level as percentage:  
  document.getElementsByName("totalRiskValue")[0]
          .innerHTML = (totalRiskValue * 2) + "% <small><small><span class='text-muted'>of all listed concerns.</span></small></small>";
  document.getElementsByName("riskLevel")[0].innerHTML = riskLevel;
  
  // setting Risk colors by level:
  if (riskLevel == "High") {
    document.getElementsByName("riskLevel")[0]
            .setAttribute("class", "badge badge-danger");
  } 
  else if (riskLevel == "Medium") {
    document.getElementsByName("riskLevel")[0]
            .setAttribute("class", "badge badge-warning");
  } 
  else if (riskLevel == "Low") {
    document.getElementsByName("riskLevel")[0]
            .setAttribute("class", "badge badge-secondary");
  } else {
    document.getElementsByName("riskLevel")[0]
            .setAttribute("class", "badge badge-secondary");
  }
}
</script>
<form name="riskForm" oninput="riskCalculator()">
<div class="container">

  <div class="card">
    <div class="card-header">
<div class="row">
  <div class="col">
    <strong>Risk level:</strong>
    <Big><strong><span name="totalRiskValue">0</span></strong></Big>
  </div>
  <div class="col text-right">
    <h3><span class="badge badge-secondary" name="riskLevel">Low</span></h3>
  </div>
</div>
    </div>
    <div class="card-body">
      <div class="card-block">
        <p>From the correct exploitation of the vulnerability, <strong>business</strong> should expect:<small><span class="text-muted"> (Keep in mind the simplest possibility of exploitation.)</span></small></p>
      </div>
      <hr>
      <div class="card-block">
        <div class="row">
          <div class="col">
            <span><strong>1. Volume of business information becoming out of control (BI):</strong></span>
          </div>
          <div class="col">
            <input name="infoVolumeRisk" type="range" min="0" max="10" value="0" title="Evaluate it in terms of loss of confidentiality, integrity or authenticity.">
            <span class="badge badge-light" name="infoVolumeRiskValue"></span>
          </div>
        </div>
      </div>
      <hr>
      <div class="card-block">
        <div class="row">
          <div class="col">
            <span><strong>2. Outage business resources due to unavailability of targeted information (OT):</strong></span>
          </div>
          <div class="col">
            <input name="outageRisk" type="range" min="0" max="10" value="0">
            <span class="badge badge-light" name="outageRiskValue" </span>
          </div>
        </div>
      </div>
      <hr>
      <div class="card-block">
        <div class="row">
          <div class="col">
            <span><strong>3. Strategical business information at risk due to the vulnerability (SI):</strong></span>
          </div>
          <div class="col">
            <input name="strategicInfoRisk" type="range" min="0" max="10" value="0">
            <span class="badge badge-light" name="strategicInfoRiskValue"></span>
          </div>
        </div>
      </div>
      <hr>
      <div class="card-block">
        <div class="row">
          <div class="col">
            <span><strong>4. Business financial volume threatened by the vulnerability (BF):</strong></span>
          </div>
          <div class="col">
            <input name="financialRisk" type="range" min="0" max="10" value="0">
            <span class="badge badge-light" name="financialRiskValue"></span>
          </div>
        </div>
      </div>
      <hr>
      <div class="card-block">
        <div class="row">
          <div class="col">
            <span><strong>5. Business functions threatened of interruption due to the vulnerability exploitation (FI):</strong></span>
          </div>
          <div class="col">
            <input name="functionsInterruptionRisk" type="range" min="0" max="10" value="0">
            <span class="badge badge-light" name="functionsInterruptionRiskValue"></span>
          </div>
        </div>
      </div>
      <div class="card-footer text-muted">
        <span class="badge badge-success" name="riskVectorValue"></span>
      </div>
    </div>
  </div>
</div>
</form>
<br class="clear">
<br class="clear">

