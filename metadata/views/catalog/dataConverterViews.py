

from django.contrib.auth.decorators import login_required, permission_required
from django.utils.decorators import method_decorator
from django.shortcuts import render
from django.views.generic import TemplateView

from .models import Vulnerability

decorators = [login_required(login_url='catalog:login')]

@method_decorator(decorators, name='dispatch')
@method_decorator(permission_required('catalog.read_vulnerability', \
    raise_exception=True), name='dispatch')
class DataConverter(TemplateView):
    ''' /catalog/resources/data/converter/ '''
    model = Vulnerability
    template_name = 'catalog/converter.html'

    def dispatch(self, request, *args, **kwargs):
        equalizer = self.request.POST
        print (equalizer.dict())

        return render(request, self.template_name, {'success': True})


